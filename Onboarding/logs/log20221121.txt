2022-11-21 09:15:03.852 +01:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-21 09:15:05.086 +01:00 [INF] Now listening on: https://localhost:7076
2022-11-21 09:15:05.086 +01:00 [INF] Now listening on: http://localhost:5246
2022-11-21 09:15:05.088 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-21 09:15:05.089 +01:00 [INF] Hosting environment: Development
2022-11-21 09:15:05.089 +01:00 [INF] Content root path: C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding
2022-11-21 09:15:10.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/index.html - -
2022-11-21 09:15:10.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/index.html - - - 200 - text/html;charset=utf-8 684.7800ms
2022-11-21 09:15:12.450 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_vs/browserLink - -
2022-11-21 09:15:12.450 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - -
2022-11-21 09:15:12.464 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 13.3935ms
2022-11-21 09:15:12.649 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 198.4373ms
2022-11-21 09:15:13.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - -
2022-11-21 09:15:13.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 313.9865ms
2022-11-21 09:23:19.657 +01:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-21 09:23:19.955 +01:00 [INF] Now listening on: https://localhost:7076
2022-11-21 09:23:19.955 +01:00 [INF] Now listening on: http://localhost:5246
2022-11-21 09:23:19.958 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-21 09:23:19.958 +01:00 [INF] Hosting environment: Development
2022-11-21 09:23:19.958 +01:00 [INF] Content root path: C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding
2022-11-21 09:23:22.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/index.html - -
2022-11-21 09:23:22.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/index.html - - - 200 - text/html;charset=utf-8 498.4066ms
2022-11-21 09:23:24.043 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - -
2022-11-21 09:23:24.045 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_vs/browserLink - -
2022-11-21 09:23:24.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 24.6261ms
2022-11-21 09:23:24.147 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.7999ms
2022-11-21 09:23:24.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - -
2022-11-21 09:23:25.188 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.9021ms
2022-11-21 09:23:37.461 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74
2022-11-21 09:23:37.576 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:23:37.632 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:23:37.948 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:23:38.009 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:23:38.042 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:23:47.717 +01:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:23:48.183 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 10137.6566ms
2022-11-21 09:23:48.186 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:23:48.193 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Microsoft.AspNetCore.Identity.UserManager`1.VerifyPasswordAsync(IUserPasswordStore`1 store, TUser user, String password)
   at Microsoft.AspNetCore.Identity.UserManager`1.CheckPasswordAsync(TUser user, String password)
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 166
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 09:23:48.239 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74 - 500 - text/plain;+charset=utf-8 10779.2410ms
2022-11-21 09:26:58.442 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7076/api/Account/register application/json 285
2022-11-21 09:26:58.448 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Register (Onboarding)'
2022-11-21 09:26:58.463 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(DataAccess.Dto.RegisterDto) on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:26:58.676 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:26:58.698 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 09:27:04.612 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__roleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[Id] = @__roleId_0
2022-11-21 09:27:04.630 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 09:27:04.659 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__model_PhoneNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[PhoneNumber] = @__model_PhoneNumber_0
2022-11-21 09:27:04.676 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[Email] = @__model_Email_0
2022-11-21 09:27:04.868 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 09:27:05.066 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 4000), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WalureUser] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [Email], [EmailConfirmed], [FirstName], [Gender], [IsDeleted], [LastName], [LockoutEnabled], [LockoutEnd], [MiddleName], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2022-11-21 09:27:05.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedRoleName_0
2022-11-21 09:27:05.119 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[RoleId]
FROM [WalureUserRole] AS [w]
WHERE [w].[UserId] = @__get_Item_0 AND [w].[RoleId] = @__get_Item_1
2022-11-21 09:27:05.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedRoleName_0
2022-11-21 09:27:05.139 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 09:27:05.176 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p25='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [WalureUser] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [Gender] = @p7, [IsDeleted] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [MiddleName] = @p12, [ModifiedBy] = @p13, [ModifiedOn] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [UserType] = @p24
OUTPUT 1
WHERE [Id] = @p25;
INSERT INTO [WalureUserRole] ([RoleId], [UserId])
VALUES (@p26, @p27);
2022-11-21 09:27:05.310 +01:00 [INF] Executing OkObjectResult, writing value of type 'Share.ViewModel.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-21 09:27:05.334 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Register (Onboarding) in 6870.8198ms
2022-11-21 09:27:05.334 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Register (Onboarding)'
2022-11-21 09:27:05.335 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7076/api/Account/register application/json 285 - 200 - application/json;+charset=utf-8 6893.8812ms
2022-11-21 09:27:31.507 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 64
2022-11-21 09:27:31.513 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:27:31.515 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:27:31.525 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:27:31.530 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:27:31.530 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:27:31.578 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:27:31.702 +01:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2022-11-21 09:27:31.780 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_grant",
  "error_description": "Username or password is incorrect.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2024"
}.
2022-11-21 09:27:31.782 +01:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2022-11-21 09:27:31.783 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 252.5147ms
2022-11-21 09:27:31.783 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:27:31.784 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 64 - 400 164 application/json;charset=UTF-8 277.5121ms
2022-11-21 09:29:38.431 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66
2022-11-21 09:29:38.433 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:29:38.435 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:29:38.442 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:29:38.443 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:29:38.443 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:29:38.448 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:29:38.725 +01:00 [INF] Executing ForbidResult with authentication schemes (["OpenIddict.Server.AspNetCore"]).
2022-11-21 09:29:38.739 +01:00 [INF] The response was successfully returned as a JSON document: {
  "error": "invalid_grant",
  "error_description": "Username or password is incorrect.",
  "error_uri": "https://documentation.openiddict.com/errors/ID2024"
}.
2022-11-21 09:29:38.739 +01:00 [INF] AuthenticationScheme: OpenIddict.Server.AspNetCore was forbidden.
2022-11-21 09:29:38.740 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 296.357ms
2022-11-21 09:29:38.740 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:29:38.747 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66 - 400 164 application/json;charset=UTF-8 315.6225ms
2022-11-21 09:30:29.039 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66
2022-11-21 09:30:29.039 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:30:29.039 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:30:29.041 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:30:29.042 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:30:29.042 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:30:29.048 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:30:37.778 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:30:37.923 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:30:37.930 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 09:30:37.965 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[ClaimType], [w].[ClaimValue]
FROM [WalureRoleClaim] AS [w]
WHERE [w].[RoleId] = @__role_Id_0
2022-11-21 09:30:38.009 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:30:38.012 +01:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2022-11-21 09:30:38.206 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2022-11-21 09:30:38.545 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599
}.
2022-11-21 09:30:38.550 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 9508.2654ms
2022-11-21 09:30:38.550 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:30:38.553 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66 - 200 2114 application/json;charset=UTF-8 9514.9780ms
2022-11-21 09:32:32.628 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 09:32:32.629 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:32:32.629 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:32:32.630 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:32:32.636 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:32:32.637 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:32:32.655 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:32:35.495 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:32:35.500 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:32:35.508 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:32:35.787 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 3150.9564ms
2022-11-21 09:32:35.789 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:32:35.791 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Onboarding.Controllers.AccountController.CreateTicketAsync(OpenIddictRequest oidcRequest, WalureUser user, AuthenticationProperties properties) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 257
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 177
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 09:32:35.808 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 3180.7673ms
2022-11-21 09:33:13.475 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 09:33:13.484 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:33:13.485 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:33:13.486 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:33:13.486 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:33:13.486 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:33:13.491 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:33:16.433 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:33:16.438 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:33:16.442 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:33:16.671 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 3184.673ms
2022-11-21 09:33:16.671 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:33:16.672 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Onboarding.Controllers.AccountController.CreateTicketAsync(OpenIddictRequest oidcRequest, WalureUser user, AuthenticationProperties properties) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 257
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 177
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 09:33:16.676 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 3200.4353ms
2022-11-21 09:36:51.967 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 09:36:51.967 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:36:51.967 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:36:51.968 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:36:51.973 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:36:51.973 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:36:52.020 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:36:54.752 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:36:54.757 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:36:54.759 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:36:55.107 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 3134.1092ms
2022-11-21 09:36:55.108 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:36:55.116 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Onboarding.Controllers.AccountController.CreateTicketAsync(OpenIddictRequest oidcRequest, WalureUser user, AuthenticationProperties properties) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 257
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 177
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 09:36:55.121 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 3164.8920ms
2022-11-21 09:37:36.030 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66
2022-11-21 09:37:36.030 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:37:36.032 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:37:36.044 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:37:36.044 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:37:36.044 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:37:36.049 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:37:50.955 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:37:50.965 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:37:50.969 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 09:37:50.973 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[ClaimType], [w].[ClaimValue]
FROM [WalureRoleClaim] AS [w]
WHERE [w].[RoleId] = @__role_Id_0
2022-11-21 09:37:50.990 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:37:50.991 +01:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2022-11-21 09:37:51.033 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2022-11-21 09:37:51.041 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600
}.
2022-11-21 09:37:51.041 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 14998.1137ms
2022-11-21 09:37:51.041 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:37:51.042 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66 - 200 2114 application/json;charset=UTF-8 15013.3165ms
2022-11-21 09:38:05.458 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 09:38:05.458 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:38:05.459 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:38:05.459 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:38:05.459 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:38:05.459 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:38:05.462 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:38:05.746 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:38:05.750 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:38:05.752 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:38:05.993 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 533.3236ms
2022-11-21 09:38:05.993 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:38:05.995 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Onboarding.Controllers.AccountController.CreateTicketAsync(OpenIddictRequest oidcRequest, WalureUser user, AuthenticationProperties properties) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 257
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 177
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 09:38:05.999 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 541.6886ms
2022-11-21 09:43:43.992 +01:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-21 09:43:44.282 +01:00 [INF] Now listening on: https://localhost:7076
2022-11-21 09:43:44.283 +01:00 [INF] Now listening on: http://localhost:5246
2022-11-21 09:43:44.286 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-21 09:43:44.286 +01:00 [INF] Hosting environment: Development
2022-11-21 09:43:44.286 +01:00 [INF] Content root path: C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding
2022-11-21 09:43:47.088 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/index.html - -
2022-11-21 09:43:47.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/index.html - - - 200 - text/html;charset=utf-8 617.5144ms
2022-11-21 09:43:48.742 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - -
2022-11-21 09:43:48.747 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_vs/browserLink - -
2022-11-21 09:43:48.758 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 16.4376ms
2022-11-21 09:43:49.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 625.4383ms
2022-11-21 09:43:49.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - -
2022-11-21 09:43:50.183 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 410.2306ms
2022-11-21 09:43:59.736 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 09:43:59.846 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 09:43:59.883 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 09:44:00.309 +01:00 [INF] The token request was successfully validated.
2022-11-21 09:44:00.423 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 09:44:00.485 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 09:44:17.436 +01:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 09:44:18.163 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 09:44:18.210 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 09:49:29.474 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:25:28.244 +01:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-21 10:25:28.517 +01:00 [INF] Now listening on: https://localhost:7076
2022-11-21 10:25:28.518 +01:00 [INF] Now listening on: http://localhost:5246
2022-11-21 10:25:28.521 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2022-11-21 10:25:28.522 +01:00 [INF] Hosting environment: Development
2022-11-21 10:25:28.522 +01:00 [INF] Content root path: C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding
2022-11-21 10:25:31.094 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/index.html - -
2022-11-21 10:25:31.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/index.html - - - 200 - text/html;charset=utf-8 514.8597ms
2022-11-21 10:25:32.558 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - -
2022-11-21 10:25:32.559 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/_vs/browserLink - -
2022-11-21 10:25:32.571 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_framework/aspnetcore-browser-refresh.js - - - 200 11990 application/javascript;+charset=utf-8 12.6390ms
2022-11-21 10:25:32.667 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 108.0181ms
2022-11-21 10:25:33.257 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - -
2022-11-21 10:25:33.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7076/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.1359ms
2022-11-21 10:25:55.100 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74
2022-11-21 10:25:55.195 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:25:55.245 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:25:55.624 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:25:55.720 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:25:55.745 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:26:04.355 +01:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:26:04.712 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 8959.279ms
2022-11-21 10:26:04.715 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:26:04.724 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Microsoft.AspNetCore.Identity.UserManager`1.VerifyPasswordAsync(IUserPasswordStore`1 store, TUser user, String password)
   at Microsoft.AspNetCore.Identity.UserManager`1.CheckPasswordAsync(TUser user, String password)
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 166
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 10:26:04.802 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74 - 500 - text/plain;+charset=utf-8 9702.7179ms
2022-11-21 10:26:44.330 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7076/api/Account/register application/json 285
2022-11-21 10:26:44.347 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Register (Onboarding)'
2022-11-21 10:26:44.360 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(DataAccess.Dto.RegisterDto) on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:26:44.499 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:26:44.528 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 10:26:48.709 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__roleId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[Id] = @__roleId_0
2022-11-21 10:26:48.745 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 10:26:48.768 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__model_PhoneNumber_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[PhoneNumber] = @__model_PhoneNumber_0
2022-11-21 10:26:48.787 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__model_Email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[Email] = @__model_Email_0
2022-11-21 10:26:49.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 10:26:49.218 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (Size = 4000), @p25='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WalureUser] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedBy], [CreatedOn], [Email], [EmailConfirmed], [FirstName], [Gender], [IsDeleted], [LastName], [LockoutEnabled], [LockoutEnd], [MiddleName], [ModifiedBy], [ModifiedOn], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [SecurityStamp], [TwoFactorEnabled], [UserName], [UserType])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
2022-11-21 10:26:49.259 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedRoleName_0
2022-11-21 10:26:49.296 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid), @__get_Item_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[RoleId]
FROM [WalureUserRole] AS [w]
WHERE [w].[UserId] = @__get_Item_0 AND [w].[RoleId] = @__get_Item_1
2022-11-21 10:26:49.305 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedRoleName_0
2022-11-21 10:26:49.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedUserName] = @__normalizedUserName_0
2022-11-21 10:26:49.369 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p25='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (DbType = Int32), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (Size = 4000), @p22='?' (DbType = Boolean), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p26='?' (DbType = Guid), @p27='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [WalureUser] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [CreatedBy] = @p2, [CreatedOn] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [FirstName] = @p6, [Gender] = @p7, [IsDeleted] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [MiddleName] = @p12, [ModifiedBy] = @p13, [ModifiedOn] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [RefreshToken] = @p20, [SecurityStamp] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [UserType] = @p24
OUTPUT 1
WHERE [Id] = @p25;
INSERT INTO [WalureUserRole] ([RoleId], [UserId])
VALUES (@p26, @p27);
2022-11-21 10:26:49.481 +01:00 [INF] Executing OkObjectResult, writing value of type 'Share.ViewModel.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-11-21 10:26:49.515 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Register (Onboarding) in 5154.64ms
2022-11-21 10:26:49.515 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Register (Onboarding)'
2022-11-21 10:26:49.517 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7076/api/Account/register application/json 285 - 200 - application/json;+charset=utf-8 5187.7869ms
2022-11-21 10:27:14.971 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66
2022-11-21 10:27:14.977 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:27:14.978 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:27:14.982 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:27:14.990 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:27:14.991 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:27:15.027 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:27:15.264 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 10:27:15.317 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:27:15.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 10:27:15.342 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[ClaimType], [w].[ClaimValue]
FROM [WalureRoleClaim] AS [w]
WHERE [w].[RoleId] = @__role_Id_0
2022-11-21 10:29:13.340 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:29:29.358 +01:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2022-11-21 10:29:29.608 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2022-11-21 10:29:29.843 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3599
}.
2022-11-21 10:29:29.849 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 134861.6262ms
2022-11-21 10:29:29.849 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:29:29.851 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66 - 200 2114 application/json;charset=UTF-8 134883.2274ms
2022-11-21 10:31:30.939 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66
2022-11-21 10:31:30.940 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:31:30.941 +01:00 [INF] The token request was successfully extracted: {
  "username": "ola@gmail.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:31:30.946 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:31:30.947 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:31:30.947 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:31:30.960 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:31:31.094 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 10:31:31.099 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:31:31.102 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 10:31:31.109 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[ClaimType], [w].[ClaimValue]
FROM [WalureRoleClaim] AS [w]
WHERE [w].[RoleId] = @__role_Id_0
2022-11-21 10:31:59.245 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:32:00.364 +01:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2022-11-21 10:32:00.398 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2022-11-21 10:32:00.403 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600
}.
2022-11-21 10:32:00.403 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 29456.1816ms
2022-11-21 10:32:00.403 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:32:00.404 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 66 - 200 2114 application/json;charset=UTF-8 29465.0947ms
2022-11-21 10:32:04.729 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74
2022-11-21 10:32:04.729 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:32:04.730 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:32:04.730 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:32:04.730 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:32:04.730 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:32:04.738 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:32:04.876 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 145.9123ms
2022-11-21 10:32:04.877 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:32:04.878 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Microsoft.AspNetCore.Identity.UserManager`1.VerifyPasswordAsync(IUserPasswordStore`1 store, TUser user, String password)
   at Microsoft.AspNetCore.Identity.UserManager`1.CheckPasswordAsync(TUser user, String password)
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 166
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 10:32:04.882 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 74 - 500 - text/plain;+charset=utf-8 152.8353ms
2022-11-21 10:32:32.103 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 10:32:32.103 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:32:32.103 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:32:32.108 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:32:32.108 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:32:32.108 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:32:32.113 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:32:32.229 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 120.5821ms
2022-11-21 10:32:32.229 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:32:32.231 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.FormatException: The input is not a valid Base-64 string as it contains a non-base 64 character, more than two padding characters, or an illegal character among the padding characters.
   at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
   at System.Convert.FromBase64String(String s)
   at Microsoft.AspNetCore.Identity.PasswordHasher`1.VerifyHashedPassword(TUser user, String hashedPassword, String providedPassword)
   at Microsoft.AspNetCore.Identity.UserManager`1.VerifyPasswordAsync(IUserPasswordStore`1 store, TUser user, String password)
   at Microsoft.AspNetCore.Identity.UserManager`1.CheckPasswordAsync(TUser user, String password)
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 166
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 10:32:32.233 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 130.3156ms
2022-11-21 10:33:16.110 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 10:33:16.111 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:33:16.111 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:33:16.111 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:33:16.111 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:33:16.112 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:33:16.120 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:33:16.452 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 10:33:16.474 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:33:48.148 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:37:36.478 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 260371.6771ms
2022-11-21 10:37:36.479 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:37:36.480 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at Onboarding.Controllers.AccountController.CreateTicketAsync(OpenIddictRequest oidcRequest, WalureUser user, AuthenticationProperties properties) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 257
   at Onboarding.Controllers.AccountController.PasswordSignIn(OpenIddictRequest request) in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 177
   at Onboarding.Controllers.AccountController.Token() in C:\Users\hp\source\repos\WalureERP\walureErp\Onboarding\Controllers\AccountController.cs:line 80
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2022-11-21 10:37:36.484 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 500 - text/plain;+charset=utf-8 260379.1324ms
2022-11-21 10:37:40.332 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76
2022-11-21 10:37:40.333 +01:00 [INF] The request address matched a server endpoint: "Token".
2022-11-21 10:37:40.333 +01:00 [INF] The token request was successfully extracted: {
  "username": "Admin@walurecapital.com",
  "password": "[redacted]",
  "grant_type": "password"
}.
2022-11-21 10:37:40.334 +01:00 [INF] The token request was successfully validated.
2022-11-21 10:37:40.334 +01:00 [INF] Executing endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:37:40.334 +01:00 [INF] Route matched with {action = "Token", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Token() on controller Onboarding.Controllers.AccountController (Onboarding).
2022-11-21 10:37:40.343 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [w].[Id], [w].[AccessFailedCount], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[Email], [w].[EmailConfirmed], [w].[FirstName], [w].[Gender], [w].[IsDeleted], [w].[LastName], [w].[LockoutEnabled], [w].[LockoutEnd], [w].[MiddleName], [w].[ModifiedBy], [w].[ModifiedOn], [w].[NormalizedEmail], [w].[NormalizedUserName], [w].[PasswordHash], [w].[PhoneNumber], [w].[PhoneNumberConfirmed], [w].[RefreshToken], [w].[SecurityStamp], [w].[TwoFactorEnabled], [w].[UserName], [w].[UserType]
FROM [WalureUser] AS [w]
WHERE [w].[NormalizedEmail] = @__normalizedEmail_0
2022-11-21 10:37:40.514 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[ClaimType], [w].[ClaimValue], [w].[UserId]
FROM [WalureUserClaim] AS [w]
WHERE [w].[UserId] = @__user_Id_0
2022-11-21 10:37:40.525 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:37:40.528 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[ConcurrencyStamp], [w].[CreatedBy], [w].[CreatedOn], [w].[InBuilt], [w].[ModifiedBy], [w].[ModifiedOn], [w].[Name], [w].[NormalizedName]
FROM [WalureRole] AS [w]
WHERE [w].[NormalizedName] = @__normalizedName_0
2022-11-21 10:37:40.532 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[ClaimType], [w].[ClaimValue]
FROM [WalureRoleClaim] AS [w]
WHERE [w].[RoleId] = @__role_Id_0
2022-11-21 10:37:45.433 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [w0].[Name]
FROM [WalureUserRole] AS [w]
INNER JOIN [WalureRole] AS [w0] ON [w].[RoleId] = [w0].[Id]
WHERE [w].[UserId] = @__userId_0
2022-11-21 10:37:49.999 +01:00 [INF] Executing SignInResult with authentication scheme (OpenIddict.Server.AspNetCore) and the following principal: System.Security.Claims.ClaimsPrincipal.
2022-11-21 10:37:50.125 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 100), @p10='?' (Size = 50), @p11='?' (Size = 400), @p12='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OpenIddictTokens] ([Id], [ApplicationId], [AuthorizationId], [ConcurrencyToken], [CreationDate], [ExpirationDate], [Payload], [Properties], [RedemptionDate], [ReferenceId], [Status], [Subject], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2022-11-21 10:37:50.134 +01:00 [INF] The response was successfully returned as a JSON document: {
  "access_token": "[redacted]",
  "token_type": "Bearer",
  "expires_in": 3600
}.
2022-11-21 10:37:50.135 +01:00 [INF] Executed action Onboarding.Controllers.AccountController.Token (Onboarding) in 9800.7608ms
2022-11-21 10:37:50.135 +01:00 [INF] Executed endpoint 'Onboarding.Controllers.AccountController.Token (Onboarding)'
2022-11-21 10:37:50.135 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7076/api/auth/token application/x-www-form-urlencoded 76 - 200 2093 application/json;charset=UTF-8 9803.1569ms
